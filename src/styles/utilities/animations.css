/* src/styles/utilities/animations.css */
/* Optimized animation system for Tailwind */

@layer utilities {
    /*==============================================================================
     * KEYFRAME DEFINITIONS
     * Core animation patterns - trimmed to essentials
     *============================================================================*/

    /* Fade In/Out Animations */
    @keyframes fadeIn {
        from {
            opacity: 0;
        }

        to {
            opacity: 1;
        }
    }

    @keyframes fadeOut {
        from {
            opacity: 1;
        }

        to {
            opacity: 0;
        }
    }

    /* Slide Animations - Different directions */
    @keyframes slideInUp {
        from {
            transform: translateY(16px);
            opacity: 0;
        }

        to {
            transform: translateY(0);
            opacity: 1;
        }
    }

    @keyframes slideInDown {
        from {
            transform: translateY(-16px);
            opacity: 0;
        }

        to {
            transform: translateY(0);
            opacity: 1;
        }
    }

    @keyframes slideInLeft {
        from {
            transform: translateX(-16px);
            opacity: 0;
        }

        to {
            transform: translateX(0);
            opacity: 1;
        }
    }

    @keyframes slideInRight {
        from {
            transform: translateX(16px);
            opacity: 0;
        }

        to {
            transform: translateX(0);
            opacity: 1;
        }
    }

    /* Scale Animations */
    @keyframes scaleIn {
        from {
            transform: scale(0.9);
            opacity: 0;
        }

        to {
            transform: scale(1);
            opacity: 1;
        }
    }

    /* Text animations - for blueprint editorial style */
    @keyframes typewriter {
        from {
            width: 0;
        }

        to {
            width: 100%;
        }
    }

    @keyframes blinkCursor {
        from,
        to {
            border-color: transparent;
        }

        50% {
            border-color: var(--color-text-primary);
        }
    }

    @keyframes textReveal {
        from {
            clip-path: inset(0 100% 0 0);
        }

        to {
            clip-path: inset(0 0 0 0);
        }
    }

    /* Blueprint-specific animations */
    @keyframes drawLine {
        from {
            stroke-dashoffset: 1000;
        }

        to {
            stroke-dashoffset: 0;
        }
    }

    /*==============================================================================
     * ENTRY/EXIT ANIMATIONS
     * For elements entering and leaving the viewport - blueprint focused
     *============================================================================*/

    /* Fade In Variants */
    .animate-fade-in {
        animation: fadeIn 0.3s cubic-bezier(0.4,0,0.2,1) forwards;
        will-change: opacity;
    }

    /* Slide In Variants - Blueprint Editorial Style */
    .animate-slide-up {
        animation: slideInUp 0.4s cubic-bezier(0.33,1,0.68,1) forwards;
        will-change: transform, opacity;
    }

    .animate-slide-right {
        animation: slideInLeft 0.4s cubic-bezier(0.33,1,0.68,1) forwards;
        will-change: transform, opacity;
    }

    /* Typewriter animation for Blueprint Editorial text */
    .animate-typewriter {
        display: inline-block;
        overflow: hidden;
        white-space: nowrap;
        border-right: 2px solid var(--color-text-primary);
        width: 0;
        animation:
            typewriter 2.5s steps(40, end) 0.5s forwards,
            blinkCursor 0.75s step-end infinite;
    }

    /* Text reveal for Blueprint Editorial headings */
    .animate-text-reveal {
        display: inline-block;
        animation: textReveal 0.8s cubic-bezier(0.33,1,0.68,1) forwards;
    }

    /* Sequential reveal for Blueprint Editorial elements */
    .reveal-sequence>* {
        opacity: 0;
        transform: translateY(8px);
        transition:
            opacity 0.3s cubic-bezier(0,0,0.2,1),
            transform 0.3s cubic-bezier(0.33,1,0.68,1);
    }

    .reveal-sequence.is-visible>*:nth-child(1) {
        opacity: 1;
        transform: translateY(0);
        transition-delay: 0ms;
    }

    .reveal-sequence.is-visible>*:nth-child(2) {
        opacity: 1;
        transform: translateY(0);
        transition-delay: 120ms;
    }

    .reveal-sequence.is-visible>*:nth-child(3) {
        opacity: 1;
        transform: translateY(0);
        transition-delay: 240ms;
    }

    .reveal-sequence.is-visible>*:nth-child(4) {
        opacity: 1;
        transform: translateY(0);
        transition-delay: 360ms;
    }

    /* Blueprint line-draw animation */
    .animate-line-draw {
        stroke-dasharray: 1000;
        stroke-dashoffset: 1000;
        animation: drawLine 2s cubic-bezier(0.4, 0, 0.2, 1) forwards;
    }

    /* Reduced Motion Adaptations */
    @media (prefers-reduced-motion: reduce) {
        .animate-line-draw {
            stroke-dasharray: none;
            stroke-dashoffset: 0;
            animation: none;
        }

        .animate-typewriter {
            width: 100%;
            animation: none;
        }

        .animate-text-reveal {
            animation: none;
        }

        .reveal-sequence>* {
            opacity: 1;
            transform: none;
            transition: none;
        }
    }
}